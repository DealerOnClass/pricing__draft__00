.popover {
    position: absolute;
    z-index: $zindex-popover;
    top: 0;
    left: 0;

    display: block;

    max-width: $popover__max-width;

    border-radius: $popover__radius;
    box-shadow: 0 5px 10px rgba(0,0,0,0.2);

    // Popover directions
    &.popover-top,
    &.bs-tether-element-attached-bottom {
        margin-top: -$popover-arrow__width;

        .popover-arrow {
            bottom: -$popover-arrow__outer__width + $popover-arrow__offset;
            left: 50%;

            margin-left: -$popover-arrow__outer__width;

            border-top-color: $popover-arrow__outer__color;
            border-bottom-width: 0;
            &:after {
                bottom: $one__true__pixel;

                margin-left: -$popover-arrow__width;

                content: '';

                border-top-color: $popover-arrow__color;
                border-bottom-width: 0;
            }
        }
    }

    &.popover-right,
    &.bs-tether-element-attached-left {
        margin-left: $popover-arrow__width;

        .popover-arrow {
            top: 50%;
            left: -$popover-arrow__outer__width + $popover-arrow__offset;

            margin-top: -$popover-arrow__outer__width;

            border-right-color: $popover-arrow__outer__color;
            border-left-width: 0;
            &:after {
                bottom: -$popover-arrow__width;
                left: $one__true__pixel;

                content: '';

                border-right-color: $popover-arrow__color;
                border-left-width: 0;
            }
        }
    }

    &.popover-bottom,
    &.bs-tether-element-attached-top {
        margin-top: $popover-arrow__width;

        .popover-arrow {
            top: -$popover-arrow__outer__width + $popover-arrow__offset;
            left: 50%;

            margin-left: -$popover-arrow__outer__width;

            border-top-width: 0;
            border-bottom-color: $popover-arrow__outer__color;
            &:after {
                top: $one__true__pixel;

                margin-left: -$popover-arrow__width;

                content: '';

                border-top-width: 0;
                border-bottom-color: $popover-arrow__color;
            }
        }
    }

    &.popover-left,
    &.bs-tether-element-attached-right {
        margin-left: -$popover-arrow__width;

        .popover-arrow {
            top: 50%;
            right: -$popover-arrow__outer__width + $popover-arrow__offset;

            margin-top: -$popover-arrow__outer__width;

            border-right-width: 0;
            border-left-color: $popover-arrow__outer__color;
            &:after {
                right: $one__true__pixel;
                bottom: -$popover-arrow__width;

                content: '';

                border-right-width: 0;
                border-left-color: $popover-arrow__color;
            }
        }
    }
}


//
//  Popover Title
.popover-title {
    margin: 0;
    padding: $popover-title__padding;

    border-top: $one__true__pixel solid;
    border-right: $one__true__pixel solid;
    border-left: $one__true__pixel solid;
    border-top-left-radius: $panel__radius;
    border-top-right-radius: $panel__radius;
    background-color: $popover-title__bg;

    .popover-arrow + &:last-child {
        border-bottom-right-radius: $panel__radius;
        border-bottom-left-radius: $panel__radius;
        border: $one__true__pixel solid;
    }
}

//
//  Popover Content
.popover-content {
    padding: $popover-content__padding;

    border-bottom: $one__true__pixel solid;
    border-right: $one__true__pixel solid;
    border-left: $one__true__pixel solid;

    border-bottom-right-radius: $panel__radius;
    border-bottom-left-radius: $panel__radius;
    background-color: $popover-content__bg;

    .popover-arrow + & {
        border-top-left-radius: $panel__radius;
        border-top-right-radius: $panel__radius;
    }
}



//
// Arrows
//
// .popover-arrow is outer, .popover-arrow:after is inner
.popover-arrow {
    &,
    &:after {
        position: absolute;

        display: block;

        width: 0;
        height: 0;

        border-style: solid;
        border-color: transparent;
    }
}
.popover-arrow {
    border-width: $popover-arrow__outer__width;
}
.popover-arrow:after {
    content: '';

    border-width: $popover-arrow__width;
}
